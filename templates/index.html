<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DakynScore Pro | David Kyndl</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bg-dark: #0b0e11;
            --card-bg: #151921;
            --accent: #00ff41;
            --text-main: #ffffff;
            --text-dim: #848d95;
        }

        body { 
            background-color: var(--bg-dark); 
            color: var(--text-main); 
            font-family: 'Inter', sans-serif;
            letter-spacing: -0.02em;
        }

        .navbar {
            background: rgba(21, 25, 33, 0.8) !important;
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            padding: 1.2rem 0;
        }

        .navbar-brand { font-weight: 800; font-size: 1.5rem; text-decoration: none; color: white; }
        .ls-green { color: var(--accent); }

        .card-match { 
            background: var(--card-bg);
            border: 1px solid rgba(255, 255, 255, 0.03);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 16px;
            transition: transform 0.2s ease, border-color 0.2s ease;
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
        }

        .card-match:hover {
            transform: translateY(-2px);
            border-color: rgba(0, 255, 65, 0.3);
        }

        .team-link {
            text-decoration: none;
            color: inherit;
            display: flex;
            align-items: center;
        }

        .team-name {
            font-weight: 600;
            font-size: 1.05rem;
            color: var(--text-main);
        }

        .score-display {
            background: #000;
            padding: 8px 16px;
            border-radius: 12px;
            font-weight: 800;
            color: var(--accent);
            font-size: 1.3rem;
            min-width: 90px;
            display: inline-block;
            border: 1px solid rgba(255,255,255,0.1);
            text-decoration: none;
            transition: all 0.2s;
        }

        .score-display:hover {
            background: #00ff41;
            color: #000;
            border-color: #00ff41;
        }

        .time-badge {
            color: var(--text-dim);
            font-size: 0.85rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .goal-scorers {
            font-size: 0.75rem;
            color: var(--text-dim);
            margin-top: 8px;
            font-style: italic;
        }

        .league-nav-item {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            text-decoration: none;
            color: var(--text-main);
            font-weight: 600;
            border: 1px solid transparent;
            transition: all 0.2s;
        }

        .league-nav-item:hover {
            background: #1c222c;
            color: var(--accent);
            border-color: rgba(255,255,255,0.1);
        }

        .league-icon {
            width: 32px; height: 32px;
            background: rgba(255,255,255,0.05);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            overflow: hidden;
        }

        .live-dot {
            height: 8px; width: 8px;
            background-color: #ff3b30;
            border-radius: 50%;
            display: inline-block;
            margin-right: 5px;
            box-shadow: 0 0 10px #ff3b30;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.4; }
            100% { opacity: 1; }
        }

        h4 { font-weight: 800; color: var(--text-dim); text-transform: uppercase; font-size: 0.9rem; letter-spacing: 0.1rem; }
    </style>
</head>
<body>

    <nav class="navbar navbar-dark sticky-top mb-5">
        <div class="container">
            <a class="navbar-brand" href="/">
                <span class="ls-green">Dakyn</span>Score
            </a>
            <div class="d-flex align-items-center">
                <span class="text-muted small me-3">2026 Season</span>
                <a href="/admin" class="btn btn-sm btn-outline-light rounded-pill px-3">Admin</a>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="row g-5">
            <div class="col-lg-8">
                
                <h4 class="mb-4">Nadcházející zápasy</h4>
                {% for m in upcoming %}
                <div class="card card-match">
                    <div class="row align-items-center text-center">
                        <div class="col-2">
                            <div class="time-badge">{{ m.start_time|date:"d.m. H:i" }}</div>
                            {% if m.status == 'LIVE' %}
                                <div class="small text-danger mt-1"><span class="live-dot"></span>LIVE</div>
                            {% endif %}
                        </div>
                        
                        <div class="col-4 d-flex align-items-center justify-content-end">
                            <a href="{% url 'team_detail' m.home_team.id %}" class="team-link">
                                <span class="team-name">{{ m.home_team.name }}</span>
                                {% if m.home_team.logo_url %}
                                    <img src="{{ m.home_team.logo_url }}" width="32" height="32" class="ms-3">
                                {% endif %}
                            </a>
                        </div>

                        <div class="col-2">
                            <a href="{% url 'match_detail' m.id %}" class="score-display">VS</a>
                        </div>

                        <div class="col-4 d-flex align-items-center justify-content-start">
                            <a href="{% url 'team_detail' m.away_team.id %}" class="team-link">
                                {% if m.away_team.logo_url %}
                                    <img src="{{ m.away_team.logo_url }}" width="32" height="32" class="me-3">
                                {% endif %}
                                <span class="team-name">{{ m.away_team.name }}</span>
                            </a>
                        </div>
                    </div>
                </div>
                {% empty %}
                <p class="text-muted mb-5">Žádné naplánované zápasy.</p>
                {% endfor %}


                <h4 class="mb-4 mt-5">Nedávné výsledky</h4>
                {% for m in past %}
                <div class="card card-match">
                    <div class="row align-items-center text-center">
                        <div class="col-2">
                            <div class="time-badge" style="color: var(--accent);">
                                {% if m.status == 'FIN' %}KONEC{% else %}{{ m.status }}{% endif %}
                            </div>
                            <div class="small text-white">{{ m.start_time|date:"d.m." }}</div>
                        </div>
                        
                        <div class="col-4 d-flex align-items-center justify-content-end">
                            <a href="{% url 'team_detail' m.home_team.id %}" class="team-link">
                                <span class="team-name">{{ m.home_team.name }}</span>
                                {% if m.home_team.logo_url %}
                                    <img src="{{ m.home_team.logo_url }}" width="32" height="32" class="ms-3">
                                {% endif %}
                            </a>
                        </div>

                        <div class="col-2">
                            <a href="{% url 'match_detail' m.id %}" class="score-display">
                                {{ m.home_score }} : {{ m.away_score }}
                            </a>
                        </div>

                        <div class="col-4 d-flex align-items-center justify-content-start">
                            <a href="{% url 'team_detail' m.away_team.id %}" class="team-link">
                                {% if m.away_team.logo_url %}
                                    <img src="{{ m.away_team.logo_url }}" width="32" height="32" class="me-3">
                                {% endif %}
                                <span class="team-name">{{ m.away_team.name }}</span>
                            </a>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-12 text-center">
                            <div class="goal-scorers">
                                {% for g in m.goals.all %}
                                    {{ g.player.name }}{% if not forloop.last %}, {% endif %}
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                </div>
                {% empty %}
                <p class="text-muted">Zatím nebyly odehrány žádné zápasy.</p>
                {% endfor %}
            </div>

            <div class="col-lg-4">
                <h4 class="mb-4">Top Soutěže</h4>
                
                <a href="{% url 'league_view' 'chance' %}" class="league-nav-item">
                    <div class="league-icon"><img src="https://sportal365images.com/process/smp-images-production/sport.aktuality.sk/19072024/d037cba4-056c-4de0-a520-f039539af3b7.jpg?operations=fit(1920:)" width="20" height="20" alt="Chance Liga"></div>
                    <span>Chance Liga</span>
                </a>

                <a href="{% url 'league_view' 'nhl' %}" class="league-nav-item">
                    <div class="league-icon"><img src="https://tse3.mm.bing.net/th/id/OIP.aAFmaW6EhOqhjDFQq8e_lwHaIs?pid=ImgDet&w=474&h=556&rs=1&o=7&rm=3" width="20" height="20" alt="NHL"></div>
                    <span>NHL Hockey</span>
                </a>

                <div class="card p-4 mt-4" style="background: linear-gradient(135deg, #1e2530 0%, #151921 100%); border-radius: 16px; border: 1px solid rgba(0,255,65,0.1);">
                    <h5 class="ls-green mb-2" style="font-weight: 800;">RP 2026</h5>
                    <p class="small text-muted mb-0">Projekt David Kyndl. Aktuální data z Chance ligy a NHL.</p>
                </div>
            </div>
        </div>
    </div>

</body>
</html>