{% load static %}
<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DakynScore Pro</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body>

    <nav class="navbar navbar-dark sticky-top mb-5">
        <div class="container">
            <a class="navbar-brand" href="/"><span class="ls-green">Dakyn</span>Score</a>
            <div class="d-flex align-items-center">
                <span class="text-muted small me-3">2026 Season</span>
                <a href="/admin" class="btn btn-sm btn-outline-light rounded-pill px-3">Admin</a>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="row g-4">
            <div class="col-lg-8">
                
                <h4 class="mb-4">Nadcházející zápasy</h4>
                {% for m in upcoming %}
                <div class="card card-match">
                    <div class="row align-items-center g-2 text-center text-md-start">
                        <div class="col-12 col-md-2 mb-2 mb-md-0">
                            <div class="time-badge">{{ m.start_time|date:"d.m. H:i" }}</div>
                        </div>
                        
                        <div class="col-5 col-md-4 d-flex align-items-center justify-content-end">
                            <a href="{% url 'team_detail' m.home_team.id %}" class="team-link justify-content-end">
                                <span class="team-name text-end">{{ m.home_team.name }}</span>
                                {% if m.home_team.logo_url %}
                                    <img src="{{ m.home_team.logo_url }}" width="32" height="32" alt="">
                                {% endif %}
                            </a>
                        </div>

                        <div class="col-2 col-md-2 text-center">
                            <a href="{% url 'match_detail' m.id %}" class="score-display">VS</a>
                        </div>

                        <div class="col-5 col-md-4 d-flex align-items-center justify-content-start">
                            <a href="{% url 'team_detail' m.away_team.id %}" class="team-link justify-content-start">
                                {% if m.away_team.logo_url %}
                                    <img src="{{ m.away_team.logo_url }}" width="32" height="32" alt="">
                                {% endif %}
                                <span class="team-name">{{ m.away_team.name }}</span>
                            </a>
                        </div>
                    </div>
                </div>
                {% empty %}
                <p class="text-muted mb-5">Žádné naplánované zápasy.</p>
                {% endfor %}

                <h4 class="mb-4 mt-5">Nedávné výsledky</h4>
                
                {% for m in past %}
                <div class="card card-match">
                    <div class="row align-items-center g-2 text-center text-md-start">
                        <div class="col-12 col-md-2 mb-2 mb-md-0">
                            <div class="time-badge" style="color: var(--accent);">KONEC</div>
                            <div class="small text-white opacity-75">{{ m.start_time|date:"d.m." }}</div>
                        </div>
                        
                        <div class="col-5 col-md-4 d-flex align-items-center justify-content-end">
                            <a href="{% url 'team_detail' m.home_team.id %}" class="team-link justify-content-end">
                                <span class="team-name text-end">{{ m.home_team.name }}</span>
                                {% if m.home_team.logo_url %}
                                    <img src="{{ m.home_team.logo_url }}" width="32" height="32" alt="">
                                {% endif %}
                            </a>
                        </div>

                        <div class="col-2 col-md-2 text-center">
                            <a href="{% url 'match_detail' m.id %}" class="score-display">
                                {{ m.home_score }}:{{ m.away_score }}
                            </a>
                        </div>

                        <div class="col-5 col-md-4 d-flex align-items-center justify-content-start">
                            <a href="{% url 'team_detail' m.away_team.id %}" class="team-link justify-content-start">
                                {% if m.away_team.logo_url %}
                                    <img src="{{ m.away_team.logo_url }}" width="32" height="32" alt="">
                                {% endif %}
                                <span class="team-name">{{ m.away_team.name }}</span>
                            </a>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-12 text-center">
                            <div class="goal-scorers">
                                {% for g in m.goals.all %}
                                    {{ g.player.name }}{% if not forloop.last %}, {% endif %}
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>

            <div class="col-lg-4">
                <h4 class="mb-4">Top Soutěže</h4>
                <a href="{% url 'league_view' 'chance' %}" class="league-nav-item">
                    <div class="league-icon"><img src="https://sportal365images.com/process/smp-images-production/sport.aktuality.sk/19072024/d037cba4-056c-4de0-a520-f039539af3b7.jpg?operations=fit(1920:)" width="20" height="20" alt="Chance Liga"></div>
                    <span>Chance Liga</span>
                </a>
                <a href="{% url 'league_view' 'nhl' %}" class="league-nav-item">
                    <div class="league-icon"><img src="https://tse3.mm.bing.net/th/id/OIP.aAFmaW6EhOqhjDFQq8e_lwHaIs?pid=ImgDet&w=474&h=556&rs=1&o=7&rm=3" width="20" height="20" alt="NHL"></div>
                    <span>NHL Hockey</span>
                </a>
            </div>
        </div>
    </div>
</body>
</html>